{% extends 'base/index.html.twig' %}
{% block body %}
	{% from 'macros/badge.html.twig' import PlayerBadge %}
	<div class="card">
		<h3 class="card-header">
			Admin Roster
		</h3>
		<div class="card-body">
			<table class="table table-bordered">
				<thead>
					<tr>
						<th class="sticky top-0 align-bottom">Admin</th>
						<th>Rank</th>
						<th>Last Seen</th>
						<th>Feedback</th>
						{% for p in perms|keys %}
							<th class="sticky top-0 text-right align-text-bottom vertical-table-label">
								<span class="transform rotate-180" style="writing-mode: vertical-lr">{{p}}</span>
							</th>
						{% endfor %}
					</tr>
				</thead>
				{% for a in admins %}
					<tr>
						<td>
							{{PlayerBadge(a.getBadge)}}
						</td>
						<th>
							{{a.getRank}}
						</th>
						<td>
							{% if a.lastseen %}
								<time>{{a.Lastseen|date('Y-m-d')}}</time>
							{% else %}
								Never
							{% endif %}
						</td>
						<td>
							{% if a.getFeedback %}
								<a href="{{a.getFeedback}}" target="_blank">Feedback Thread</a>
							{% endif %}
						</td>
						{% for name, bits in perms %}
							{% if a.getFlags b-and bits %}
								<td class="text-success text-center text-lg leading-none" data-bs-toggle="tooltip" data-bs-title="{{a.ckey}} has {{name}}">
									<i class="far fa-check-circle"></i>
								</td>
							{% else %}
								<td class="text-danger text-center text-lg leading-none" data-bs-toggle="tooltip" data-bs-title="{{a.ckey}} does not have {{name}}">
									<i class="far fa-times-circle"></i>
								</td>
							{% endif %}
						{% endfor %}
					</tr>
				{% endfor %}
			</table>
		</div>
	</div>
{% endblock %}
