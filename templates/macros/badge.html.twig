{% macro PlayerBadge(badge, popover = true) %}
	<span class="playerBadge badge {{popover ? 'has-popover'}}" style="background:{{badge.getBackColor}}; color:{{badge.getForecolor}};" data-rank="{{badge.getTitle}}" data-bs-toggle="tooltip" data-target-ckey="{{badge.getCkey}}">
		<i class="fas {{badge.geticon}}"></i>
		{{badge.getckey}}
	</span>
{% endmacro %}

{% macro BanBadge(status) %}
	<span class="banBadge badge text-bg-{{status.getCssClass}}">
		{{status.value}}
	</span>
{% endmacro %}

{% macro ServerBadge(server) %}
{% if not server %}
<span class="serverBadge badge text-bg-server" title="Unable to determine the server">	
		<i class="fa-solid fa-circle-question"></i> Unknown
	</span>
{% else %}
	<span class="serverBadge badge text-bg-server" title="{{server.getAddress}}:{{server.getPort}}">
		<img src="/img/server_icons/{{server.getIdentifier|lower}}.png"/>
		{{server.getIdentifier}}
	</span>
{% endif %}
{% endmacro %}

{% macro RoundBadge(round, link = true) %}
	{% if link %}
		<a href="{{url_for('round.single',{id: round})}}" class="roundBadge badge text-bg-round" data-round-id="{{round}}">
			<i class="fa-solid fa-circle"></i>
			{{round ?: 'Invalid Round'}}
		</a>
		{% if round %}
		<div id="round-{{round}}-popover" style="display:none">
			<strong class="d-block">
				<i class="fa fa-fw fa-circle"></i>
				{{round}}
			</strong>
			<a class="link" href="https://statbus.space/rounds/{{round}}" target="_blank">Statbus</a><br>
			<a class="link" href="https://scrubby.melonmesa.com/round/{{round}}/" target="_blank" class="icon-link"><i class="fa-solid fa-up-right-from-square"></i> Scrubby</a><br>
			<a href="{{url_for("round.logs.redirect",{id:round})}}" class="icon-link"><i class="fa-solid fa-up-right-from-square"></i> Parsed Logs</a>
			{% if user.has('ADMIN') %}
				<hr class="my-2">
				<a class="icon-link" href="{{url_for('tgdb.tickets.round',{round:round})}}">
					<i class="fas fa-ticket"></i>
					Tickets</a><br>
				<a href="{{url_for("round.logs.redirect",{id:round})}}?admin=true" class="icon-link"><i class="fa-solid fa-up-right-from-square"></i> Raw Logs</a>
			{% endif %}
		</div>
		{% else %}
		<div id="round-{{round}}-popover" style="display:none">
			The round ID specified is invalid
		</div>
		{% endif %}
	{% else %}
		<span class="roundBadge badge text-bg-round">
			<i class="fa-solid fa-circle"></i>
			{{round ?: 'Invalid Round'}}
		</span>
	{% endif %}

{% macro JobBadge(badge) %}
	<span class="jobBadge badge" style="{{badge.style}}">
		{{badge.name}}
	</span>
{% endmacro %}

{% endmacro %}
